local GuiLib = {}

function GuiLib:CreateWindow(title)
	local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
	ScreenGui.Name = "DKZIN_HUB"

	local Main = Instance.new("Frame", ScreenGui)
	Main.Name = "Main"
	Main.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	Main.Size = UDim2.new(0, 500, 0, 320)
	Main.Position = UDim2.new(0.5, -250, 0.5, -160)
	Main.AnchorPoint = Vector2.new(0.5, 0.5)
	Main.BorderSizePixel = 0
	Main.Active = true
	Main.Draggable = true

	local MainCorner = Instance.new("UICorner", Main)
	MainCorner.CornerRadius = UDim.new(0, 14)

	local TopBar = Instance.new("Frame", Main)
	TopBar.Size = UDim2.new(1, 0, 0, 35)
	TopBar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	Instance.new("UICorner", TopBar).CornerRadius = UDim.new(0, 14)

	local Title = Instance.new("TextLabel", TopBar)
	Title.Text = title or "ðŸ”¥ DKZIN HUB"
	Title.TextColor3 = Color3.fromRGB(255, 255, 255)
	Title.BackgroundTransparency = 1
	Title.Size = UDim2.new(1, -40, 1, 0)
	Title.Position = UDim2.new(0, 10, 0, 0)
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Title.Font = Enum.Font.GothamBold
	Title.TextSize = 14

	local MinBtn = Instance.new("TextButton", TopBar)
	MinBtn.Text = "-"
	MinBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
	MinBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
	MinBtn.Size = UDim2.new(0, 30, 1, 0)
	MinBtn.Position = UDim2.new(1, -30, 0, 0)
	MinBtn.Font = Enum.Font.GothamBold
	MinBtn.TextSize = 18
	Instance.new("UICorner", MinBtn).CornerRadius = UDim.new(0, 8)

	local TabButtons = Instance.new("Frame", Main)
	TabButtons.Size = UDim2.new(0, 120, 1, -35)
	TabButtons.Position = UDim2.new(0, 0, 0, 35)
	TabButtons.BackgroundColor3 = Color3.fromRGB(25, 25, 25)

	local TabList = Instance.new("UIListLayout", TabButtons)
	TabList.Padding = UDim.new(0, 5)
	TabList.SortOrder = Enum.SortOrder.LayoutOrder

	local TabPages = Instance.new("Frame", Main)
	TabPages.Name = "Pages"
	TabPages.Size = UDim2.new(1, -120, 1, -35)
	TabPages.Position = UDim2.new(0, 120, 0, 35)
	TabPages.BackgroundColor3 = Color3.fromRGB(35, 35, 35)

	local Tabs = {}

	function Tabs:CreateTab(tabName)
		local Btn = Instance.new("TextButton", TabButtons)
		Btn.Text = tabName
		Btn.Size = UDim2.new(1, -10, 0, 30)
		Btn.Position = UDim2.new(0, 5, 0, 0)
		Btn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
		Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
		Btn.Font = Enum.Font.Gotham
		Btn.TextSize = 13
		Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, 6)

		local Page = Instance.new("Frame", TabPages)
		Page.Size = UDim2.new(1, 0, 1, 0)
		Page.Visible = false
		Page.Name = tabName
		Page.BackgroundTransparency = 1

		local ElementList = Instance.new("UIListLayout", Page)
		ElementList.Padding = UDim.new(0, 6)

		Btn.MouseButton1Click:Connect(function()
			for _, tab in pairs(TabPages:GetChildren()) do
				if tab:IsA("Frame") then tab.Visible = false end
			end
			Page.Visible = true
		end)

		local API = {}

		function API:AddButton(text, callback)
			local btn = Instance.new("TextButton", Page)
			btn.Size = UDim2.new(1, -10, 0, 30)
			btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
			btn.Text = text
			btn.TextColor3 = Color3.fromRGB(255, 255, 255)
			btn.Font = Enum.Font.Gotham
			btn.TextSize = 14
			Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

			btn.MouseButton1Click:Connect(function()
				if callback then callback() end
			end)
		end

		return API
	end

	local minimized = false
	MinBtn.MouseButton1Click:Connect(function()
		minimized = not minimized
		Main.Visible = not minimized
	end)

	return Tabs
end

return GuiLib
